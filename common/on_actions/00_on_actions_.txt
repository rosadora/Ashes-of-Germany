on_actions = {
	on_startup = {
  effect = {
	every_possible_country = {
		set_rule = {
			can_send_volunteers = yes
		}
		set_rule = {
			can_join_factions = no
		}
		set_rule = {
			allow_leave_faction = no
		}
	}
    FRA = {
    country_event = {
     id = general.2
    }
   }
   every_country = {
    country_event = {
     id = general.1
    }
   }
  }
  effect = {
			every_possible_country = {
				#Opinion Modifiers Setup
				every_possible_country = {
					limit = { NOT = { tag = PREV } }
					if = {
						limit = { has_government = PREV }
						add_opinion_modifier = {
							target = PREV
							modifier = same_ideology
						}
					}
					else_if = {
						limit = {
							OR = {
								AND = {
									has_government = fascism
									PREV = {
										has_government = ultra_nationalism
									}
								}
                AND = {
									has_government = ultra_nationalism
									PREV = {
										has_government = fascism
									}
								}
                AND = {
									has_government = communism
									PREV = {
										has_government = classical_marxism
									}
								}
                AND = {
									has_government = classical_marxism
									PREV = {
										has_government = communism
									}
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = social_democracy }
								}
                AND = {
									has_government = social_democracy
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = social_liberalism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology_close
						}
					}
					else_if = {
						limit = {
							OR = {
								AND = {
									has_government = social_democrat
									PREV = {
										OR = {
											has_government = classical_liberalism
											has_government = democratic
											has_government = classical_marxism
										}
									}
								}
								AND = {
									OR = {
										has_government = classical_liberalism
										has_government = democratic
										has_government = classical_marxism
									}
									PREV = { has_government = social_democrat }
								}
								AND = {
									has_government = communism
									PREV = { has_government = libertarian_socialism }
								}
								AND = {
									has_government = libertarian_socialism
									PREV = { has_government = communism }
								}
                AND = {
									has_government = fascism
									PREV = { has_government = neutrality }
								}
								AND = {
									has_government = neutrality
									PREV = { has_government = fascism }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = neutrality }
								}
								AND = {
									has_government = neutrality
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = classical_marxism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = classical_marxism }
								}
                AND = {
									has_government = communism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = communism }
								}
                AND = {
									has_government = libertarian_socialism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = libertarian_socialism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = classical_liberalism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology_distant
						}
					}
					else_if = {
						limit = {
							OR = {
                AND = {
									has_government = fascism
									PREV = { has_government = democratic }
								}
								AND = {
									has_government = democratic
									PREV = { has_government = fascism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology
						}
					}
					else_if = {
						limit = {
							OR = {
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = social_democracy
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = social_democracy }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = communism }
								}
                AND = {
									has_government = communism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = libertarian_socialism }
								}
                AND = {
									has_government = libertarian_socialism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = classical_marxism }
								}
                AND = {
									has_government = classical_marxism
									PREV = { has_government = classical_liberalism }
								}
              }
						}
						add_opinion_modifier = {
							target = PREV
							modifier = different_ideology_close
						}
					}
					else = {
						add_opinion_modifier = {
							target = PREV
							modifier = different_ideology
						}
					}
				}
			}
    }
  }
  on_monthly = {
		# temp var old_ideology_token is available for effects
		effect = {
			# Opinion Modifiers
			every_possible_country = {
				remove_opinion_modifier = {
					target = ROOT
					modifier = similar_ideology_close
				}
				remove_opinion_modifier = {
					target = ROOT
					modifier = similar_ideology
				}
				remove_opinion_modifier = {
					target = ROOT
					modifier = similar_ideology_distant
				}
				remove_opinion_modifier = {
					target = ROOT
					modifier = different_ideology_close
				}
				remove_opinion_modifier = {
					target = ROOT
					modifier = different_ideology
				}
				remove_opinion_modifier = {
					target = ROOT
					modifier = same_ideology
				}
				ROOT = {
					remove_opinion_modifier = {
						target = PREV
						modifier = similar_ideology_close
					}
					remove_opinion_modifier = {
						target = PREV
						modifier = similar_ideology
					}
					remove_opinion_modifier = {
						target = PREV
						modifier = similar_ideology_distant
					}
					remove_opinion_modifier = {
						target = PREV
						modifier = different_ideology_close
					}
					remove_opinion_modifier = {
						target = PREV
						modifier = different_ideology
					}
					remove_opinion_modifier = {
						target = PREV
						modifier = same_ideology
					}
				}
        ROOT = {
					limit = { NOT = { tag = PREV } }
					if = {
						limit = { has_government = PREV }
						add_opinion_modifier = {
							target = PREV
							modifier = same_ideology
						}
					}
					else_if = {
						limit = {
							OR = {
								AND = {
									has_government = fascism
									PREV = {
										has_government = ultra_nationalism
									}
								}
                AND = {
									has_government = ultra_nationalism
									PREV = {
										has_government = fascism
									}
								}
                AND = {
									has_government = communism
									PREV = {
										has_government = classical_marxism
									}
								}
                AND = {
									has_government = classical_marxism
									PREV = {
										has_government = communism
									}
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = social_democracy }
								}
                AND = {
									has_government = social_democracy
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = social_liberalism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology_close
						}
					}
					else_if = {
						limit = {
							OR = {
								AND = {
									has_government = social_democrat
									PREV = {
										OR = {
											has_government = classical_liberalism
											has_government = democratic
											has_government = classical_marxism
										}
									}
								}
								AND = {
									OR = {
										has_government = classical_liberalism
										has_government = democratic
										has_government = classical_marxism
									}
									PREV = { has_government = social_democrat }
								}
								AND = {
									has_government = communism
									PREV = { has_government = libertarian_socialism }
								}
								AND = {
									has_government = libertarian_socialism
									PREV = { has_government = communism }
								}
                AND = {
									has_government = fascism
									PREV = { has_government = neutrality }
								}
								AND = {
									has_government = neutrality
									PREV = { has_government = fascism }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = neutrality }
								}
								AND = {
									has_government = neutrality
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = classical_marxism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = classical_marxism }
								}
                AND = {
									has_government = communism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = communism }
								}
                AND = {
									has_government = libertarian_socialism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = libertarian_socialism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = classical_liberalism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology_distant
						}
					}
					else_if = {
						limit = {
							OR = {
                AND = {
									has_government = fascism
									PREV = { has_government = democratic }
								}
								AND = {
									has_government = democratic
									PREV = { has_government = fascism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology
						}
					}
					else_if = {
						limit = {
							OR = {
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = social_democracy
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = social_democracy }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = communism }
								}
                AND = {
									has_government = communism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = libertarian_socialism }
								}
                AND = {
									has_government = libertarian_socialism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = classical_marxism }
								}
                AND = {
									has_government = classical_marxism
									PREV = { has_government = classical_liberalism }
								}
              }
						}
						add_opinion_modifier = {
							target = PREV
							modifier = different_ideology_close
						}
					}
					else = {
						add_opinion_modifier = {
							target = PREV
							modifier = different_ideology
						}
					}
        }
				if = {
						limit = { has_government = PREV }
						add_opinion_modifier = {
							target = PREV
							modifier = same_ideology
						}
					}
					else_if = {
						limit = {
							OR = {
								AND = {
									has_government = fascism
									PREV = {
										has_government = ultra_nationalism
									}
								}
                AND = {
									has_government = ultra_nationalism
									PREV = {
										has_government = fascism
									}
								}
                AND = {
									has_government = communism
									PREV = {
										has_government = classical_marxism
									}
								}
                AND = {
									has_government = classical_marxism
									PREV = {
										has_government = communism
									}
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = social_democracy }
								}
                AND = {
									has_government = social_democracy
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = social_liberalism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology_close
						}
					}
					else_if = {
						limit = {
							OR = {
								AND = {
									has_government = social_democrat
									PREV = {
										OR = {
											has_government = classical_liberalism
											has_government = democratic
											has_government = classical_marxism
										}
									}
								}
								AND = {
									OR = {
										has_government = classical_liberalism
										has_government = democratic
										has_government = classical_marxism
									}
									PREV = { has_government = social_democrat }
								}
								AND = {
									has_government = communism
									PREV = { has_government = libertarian_socialism }
								}
								AND = {
									has_government = libertarian_socialism
									PREV = { has_government = communism }
								}
                AND = {
									has_government = fascism
									PREV = { has_government = neutrality }
								}
								AND = {
									has_government = neutrality
									PREV = { has_government = fascism }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = neutrality }
								}
								AND = {
									has_government = neutrality
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = democratic
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = democratic }
								}
                AND = {
									has_government = classical_marxism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = classical_marxism }
								}
                AND = {
									has_government = communism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = communism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = libertarian_socialism
									PREV = { has_government = social_democracy }
								}
								AND = {
									has_government = social_democracy
									PREV = { has_government = libertarian_socialism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology_distant
						}
					}
					else_if = {
						limit = {
							OR = {
                AND = {
									has_government = fascism
									PREV = { has_government = democratic }
								}
								AND = {
									has_government = democratic
									PREV = { has_government = fascism }
								}
							}
						}
						add_opinion_modifier = {
							target = PREV
							modifier = similar_ideology
						}
					}
					else_if = {
						limit = {
							OR = {
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = social_liberalism
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = social_liberalism }
								}
                AND = {
									has_government = social_democracy
									PREV = { has_government = neutrality }
								}
                AND = {
									has_government = neutrality
									PREV = { has_government = social_democracy }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = communism }
								}
                AND = {
									has_government = communism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = libertarian_socialism }
								}
                AND = {
									has_government = libertarian_socialism
									PREV = { has_government = classical_liberalism }
								}
                AND = {
									has_government = classical_liberalism
									PREV = { has_government = classical_marxism }
								}
                AND = {
									has_government = classical_marxism
									PREV = { has_government = classical_liberalism }
								}
              }
						}
						add_opinion_modifier = {
							target = PREV
							modifier = different_ideology_close
						}
					}
					else = {
						add_opinion_modifier = {
							target = PREV
							modifier = different_ideology
						}
					}
        }
			}
		}
	on_monthly = {
		effect = {
		any_country = {
        enable = {
			OR = {
          has_government = classical_marxism
		  has_government = libertarian_socialism
		  has_government = communism
			}
        }
        abort_when_not_enabled = yes
        add_ai_strategy = {
          type = support
          id = HUN
          value = 1000
        }
		add_ai_strategy = {
          type = alliance
          id = HUN
          value = 1000
        }
		}
		effect = {
        enable = {
			OR = {
          has_government = classical_marxism
		  has_government = libertarian_socialism
		  has_government = communism
			}
        }
        abort_when_not_enabled = yes
		reversed = yes
        add_ai_strategy = {
          type = support
          id = HUN
          value = 1000
        }
		add_ai_strategy = {
          type = alliance
          id = HUN
          value = 1000
        }
		}
		}
	}
  }